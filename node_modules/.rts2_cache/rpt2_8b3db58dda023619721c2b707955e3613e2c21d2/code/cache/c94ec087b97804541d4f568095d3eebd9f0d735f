{"code":"import { track, trigger } from './effect';\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        // 如果target已经被代理过了就直接返回true\r\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */) {\r\n            return true;\r\n        }\r\n        else if (key === \"__v_raw\" /* ReactiveFlags.RAW */) {\r\n            return target;\r\n        }\r\n        // 触发getter收集副作用函数effect\r\n        track(target, key);\r\n        return Reflect.get(target, key, receiver);\r\n    };\r\n}\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        // 需要先设置值，再去追踪，重新执行副作用函数\r\n        const res = Reflect.set(target, key, value, receiver);\r\n        trigger(target, key);\r\n        return res;\r\n    };\r\n}\r\nconst get = createGetter();\r\nconst set = createSetter();\r\nexport const mutableHandlers = {\r\n    get,\r\n    set\r\n};\r\n//# sourceMappingURL=baseHandlers.js.map","references":["F:/forTest/monorope2/packages/reactivity/src/reactive.ts","F:/forTest/monorope2/packages/reactivity/src/effect.ts"],"map":"{\"version\":3,\"file\":\"baseHandlers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../packages/reactivity/src/baseHandlers.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,UAAU,CAAA;AAGzC,SAAS,YAAY,CAAC,UAAU,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK;IACvD,OAAO,SAAS,GAAG,CAAC,MAAc,EAAE,GAAoB,EAAE,QAAgB;QACxE,2BAA2B;QAC3B,IAAI,GAAG,qDAA8B,EAAE;YACrC,OAAO,IAAI,CAAA;SACZ;aAAM,IAAI,GAAG,sCAAsB,EAAE;YACpC,OAAO,MAAM,CAAA;SACd;QACD,wBAAwB;QACxB,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;QAClB,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAA;IAC3C,CAAC,CAAA;AACH,CAAC;AAED,SAAS,YAAY,CAAC,OAAO,GAAG,KAAK;IACnC,OAAO,SAAS,GAAG,CAAC,MAAc,EAAE,GAAoB,EAAE,KAAc,EAAE,QAAgB;QACxF,wBAAwB;QACxB,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAA;QACrD,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;QACpB,OAAO,GAAG,CAAA;IACZ,CAAC,CAAA;AACH,CAAC;AAED,MAAM,GAAG,GAAG,YAAY,EAAE,CAAA;AAC1B,MAAM,GAAG,GAAG,YAAY,EAAE,CAAA;AAE1B,MAAM,CAAC,MAAM,eAAe,GAAyB;IACnD,GAAG;IACH,GAAG;CACJ,CAAA\"}"}
